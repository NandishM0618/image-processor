# Cloud Image Processor

A full-stack **Next.js** project that allows users to upload images, automatically resizes them (thumbnail, medium, large) using **AWS Lambda**, stores metadata in **DynamoDB**, and serves them securely using **pre-signed URLs**. CI/CD is integrated via **GitHub Actions** for automatic Lambda deployments.

---

## ðŸš€ Features

* Upload images via **presigned URLs** generated by Lambda.
* Automatically resize images into **thumbnail, medium, and large** sizes using **Sharp**.
* Store image metadata (userId, S3 paths, timestamps) in **DynamoDB**.
* Fetch images securely using **signed URLs**.
* CI/CD pipeline updates AWS Lambda automatically on push to GitHub.
* User-based image management using **Amazon Cognito**.


---

## ðŸ“¦ Getting Started

### 1. Clone the repo

```bash
git clone https://github.com/NandishM0618/image-processor.git
cd image-processor
```

### 2. Install dependencies

```bash
npm install
# or
yarn install
# or
pnpm install
```

### 3. Environment Variables

Create a `.env.local` file in the root:

```bash
NEXT_PUBLIC_API_URL=https://<your-api-gateway-url>
COGNITO_REGION=<your-cognito-region>
COGNITO_USER_POOL=<your-user-pool-id>
COGNITO_CLIENT_ID=<your-app-client-id>
AWS_REGION=<aws-region>
S3_BUCKET=<your-s3-bucket>
DYNAMO_TABLE=<your-dynamodb-table>
```

### 4. Run Development Server

```bash
npm run dev
# or
yarn dev
# or
pnpm dev
```

Open [http://localhost:3000](http://localhost:3000) to view the app.

---

## ðŸ–¼ Image Upload & Processing

1. The frontend requests a **presigned upload URL** from the `GetUploadURLLambda`.
2. The image is uploaded directly to S3 via the presigned URL.
3. `ImageProcessorLambda` is triggered by S3:

   * Resizes images
   * Saves them in `/thumb`, `/medium`, `/large` folders
   * Writes metadata to DynamoDB
4. Images can then be fetched securely using **pre-signed GET URLs**.

---

## âš™ CI/CD Pipeline

* **GitHub Actions** automatically updates AWS Lambda functions on push to `main`.
* Secrets required:

  * `AWS_ACCESS_KEY_ID`
  * `AWS_SECRET_ACCESS_KEY`
  * `AWS_REGION`
  * `S3_BUCKET`
  * `DYNAMO_TABLE`

---

## ðŸ›  Technologies

* **Frontend:** Next.js, Tailwind CSS
* **Backend:** AWS Lambda (Node.js 22.x), API Gateway
* **Database:** DynamoDB
* **Storage:** S3
* **Authentication:** Amazon Cognito
* **Image Processing:** Sharp
* **CI/CD:** GitHub Actions

---

## ðŸ”— Deployment

* **Frontend:** Vercel or any Next.js hosting platform.
* **Backend:** AWS Lambda + API Gateway.

---

## ðŸ“š Learn More

* [Next.js Documentation](https://nextjs.org/docs)
* [AWS Lambda Documentation](https://docs.aws.amazon.com/lambda/latest/dg/welcome.html)
* [AWS S3 Documentation](https://docs.aws.amazon.com/s3/index.html)
* [AWS DynamoDB Documentation](https://docs.aws.amazon.com/dynamodb/index.html)

---

## âœ¨ Author

Nandish M â€“ [GitHub](https://github.com/NandishM0618)
